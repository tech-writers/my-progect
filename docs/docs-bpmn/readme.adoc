= –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ BPMN-—Å—Ö–µ–º –≤ SVG
:toc:
:icons: font
:source-highlighter: highlightjs

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é `.bpmn` —Ñ–∞–π–ª–æ–≤ –≤ `.svg` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (HTML/PDF) —Å –ø–æ–º–æ—â—å—é AsciiDoc –∏ Antora.

== üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

[listing]
----
bpmn-processes/                                 # –ò—Å—Ö–æ–¥–Ω—ã–µ .bpmn —Ñ–∞–π–ª—ã (–≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è)
docs/
‚îú‚îÄ‚îÄ documentation/
‚îÇ   ‚îî‚îÄ‚îÄ modules/
‚îÇ       ‚îú‚îÄ‚îÄ bpmn/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ images/                         # –¶–µ–ª–µ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è .svg
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ pages/
‚îÇ       ‚îî‚îÄ‚îÄ areas/
‚îÇ           ‚îî‚îÄ‚îÄ pages/
‚îî‚îÄ‚îÄ docs-bpmn/
    ‚îú‚îÄ‚îÄ viewer.html                             # HTML-—à–∞–±–ª–æ–Ω —Å bpmn-js
    ‚îú‚îÄ‚îÄ bpmn-to-svg.js                          # –°–∫—Ä–∏–ø—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
    ‚îî‚îÄ‚îÄ README.adoc                             # –≠—Ç–æ—Ç —Ñ–∞–π–ª
----

== ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

[source,bash]
----
npm install puppeteer
----

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [Inkscape](https://inkscape.org/) (–¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ –≤ –∫—Ä–∏–≤—ã–µ):

[source,bash]
----
brew install --cask inkscape
----

3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ `inkscape` –¥–æ—Å—Ç—É–ø–Ω–∞:

[source,bash]
----
inkscape --version
----

== üöÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SVG

[source,bash]
----
node docs/docs-bpmn/bpmn-to-svg.js
----

–°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

- –ù–∞–π–¥—ë—Ç –≤—Å–µ `.bpmn` —Ñ–∞–π–ª—ã –≤ `bpmn-processes/` (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ)
- –û—Ç–∫—Ä–æ–µ—Ç –∏—Ö –≤ headless Chrome (`puppeteer`)
- –û—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç —á–µ—Ä–µ–∑ `bpmn-js` —Å –±–µ–ª—ã–º —Ñ–æ–Ω–æ–º
- –°–æ—Ö—Ä–∞–Ω–∏—Ç `.svg` –≤ `modules/bpmn/images/`, —Å–æ—Ö—Ä–∞–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- üî§ –í—ã–∑–æ–≤–µ—Ç `Inkscape`, —á—Ç–æ–±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤–µ—Å—å —Ç–µ–∫—Å—Ç –≤ –∫—Ä–∏–≤—ã–µ (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ PDF)

== üìù –ü–æ—á–µ–º—É text-to-path –≤–∞–∂–µ–Ω

PDF-–¥–≤–∏–∂–æ–∫ Asciidoctor (Prawn) –Ω–µ –≤—Å–µ–≥–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—Å—Ç –≤–Ω—É—Ç—Ä–∏ SVG:

- –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `font-family`
- –º–æ–∂–µ—Ç –ª–æ–º–∞—Ç—å –∫–∏—Ä–∏–ª–ª–∏—Ü—É
- –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å web-—à—Ä–∏—Ñ—Ç–∞–º–∏

üìå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Inkscape --export-text-to-path` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ç–µ–∫—Å—Ç –≤ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –∫–æ–Ω—Ç—É—Ä—ã ‚Äî —ç—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç 100% —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å PDF.

== üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ AsciiDoc/Antora

[source,asciidoc]
----
:imagesdir: images/doc/download-external-sources

image::external-load.svg[external-load, width=800]
----

–ü—É—Ç—å —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ `modules/bpmn/images`.

== üìò –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ BPMN-—Å—Ö–µ–º –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ –≤ Antora –∏ PDF

–ï—Å–ª–∏ `.adoc`-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–æ–¥—É–ª–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `areas`), –∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Äî –≤ –¥—Ä—É–≥–æ–º (`bpmn`), –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

[source,asciidoc]
----
:n_id_diagram_1: {counter:figure-number}
–ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ–≥—Ä–∞–º–º—ã, –≤ –≤–∏–¥–µ {bpmn} –¥–∏–∞–≥—Ä–∞–º–º—ã, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –Ω–∞ <<id_diagram_1, –†–∏—Å—É–Ω–∫–µ {n_id_diagram_1}>>.

[[id_diagram_1]]
.–†–∏—Å—É–Ω–æ–∫ {n_id_diagram_1}. –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã

ifdef::env-antora[]
image::bpmn:images/doc/dfgdfg/external-load.svg[external-load, width=500]
endif::[]

ifndef::env-antora[]
image::../../bpmn/images/doc/dfgdf/external-load.svg[external-load, width=500]
endif::[]
----

== üõ† –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PNG-—ç–∫—Å–ø–æ—Ä—Ç–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ raster-–≥–∞—Ä–∞–Ω—Ç–∏—è)
* Watch-—Ä–µ–∂–∏–º (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö BPMN)
* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ CI (–Ω–∞–ø—Ä–∏–º–µ—Ä, GitHub Actions)

== ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

- –ë–µ–ª—ã–π —Ñ–æ–Ω ‚úÖ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ ‚úÖ
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å HTML –∏ PDF ‚úÖ
- –í–µ–∫—Ç–æ—Ä–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è ‚úÖ

== üë®‚Äçüíª –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî —Å–º. `bpmn-to-svg.js` –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥–µ.
