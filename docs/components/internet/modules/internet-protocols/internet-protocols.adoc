= Основы интернет-протоколов и модели OSI
:toc:
:toclevels: 3
:icons: font
:sectnums:

== Введение

Этот учебник объясняет, как работает Интернет на уровне протоколов. Вы узнаете, как устройства "разговаривают" между собой, какие существуют уровни модели OSI, и как, например, загружается сайт в вашем браузере.

Учебник разделён на теоретические главы, таблицы, аналогии и практический пример.

== Основные интернет-протоколы

=== Таблица протоколов

[cols="2,4,4", options="header,breakable"]
|===
^| Протокол ^| Назначение ^| Примеры использования

| IP (IPv4 / IPv6)
| Адресация и маршрутизация пакетов в интернете
| Все сетевые соединения (например, подключение к сайту)

| TCP
| Надежная передача данных с подтверждением и порядком
| Веб-страницы, почта, файлы

| UDP
| Быстрая передача данных без подтверждения
| Видеозвонки, онлайн-игры

| HTTP / HTTPS
| Передача веб-страниц и API-запросов
| Браузеры, сайты, REST API

| DNS
| Преобразование доменных имён в IP-адреса
| Вводим `google.com` — получаем IP

| FTP / FTPS / SFTP
| Передача файлов
| Выгрузка на сервер, резервное копирование

| SMTP / POP3 / IMAP
| Почтовые протоколы
| Отправка и получение электронной почты

| SSL / TLS
| Шифрование соединений
| HTTPS, FTPS, IMAPS

| DHCP
| Автоматическая настройка IP-адресов
| Подключение к Wi-Fi
|===

== Модель OSI и уровни сети

=== Уровни OSI и соответствие протоколов

[cols="2,2,4", options="header,breakable"]
|===
^| Уровень OSI ^| Уровень TCP/IP ^| Протоколы

| 7. Прикладной
| Application
| HTTP, FTP, DNS, SMTP, DHCP

| 6. Представительный
| —
| TLS, SSL, кодировки (UTF-8)

| 5. Сеансовый
| —
| TLS-сессии, NetBIOS

| 4. Транспортный
| Transport
| TCP, UDP

| 3. Сетевой
| Internet
| IP, ICMP

| 2. Канальный
| Network Access
| Ethernet, Wi-Fi, ARP

| 1. Физический
| Network Access
| Кабели, радиосигналы, оптика
|===

=== Простое объяснение уровней OSI

[cols="1,3,3,4", options="header,breakable"]
|===
^| Уровень
^| Что делает
^| Примеры протоколов
^| Аналогия

| 7. Прикладной
| То, с чем работает пользователь
| HTTP, DNS, SMTP
| Браузер, почта, Telegram

| 6. Представительный
| Шифрование, преобразование формата
| TLS, JPEG, UTF-8
| Переводчик, упаковщик

| 5. Сеансовый
| Управление сессиями
| TLS-сессия
| Звонок: начать/поддержать/завершить

| 4. Транспортный
| Гарантия доставки
| TCP, UDP
| Курьер с подписью (TCP) или без (UDP)

| 3. Сетевой
| Поиск маршрута
| IP
| Навигатор

| 2. Канальный
| Передача между соседними устройствами
| Ethernet, Wi-Fi
| Контроль движения

| 1. Физический
| Передача сигналов
| Кабели, Wi-Fi
| Провод с электричеством
|===

== Как работает открытие сайта

Когда вы вводите в браузере `https://example.com`, происходят следующие шаги:

. Проверка локального кэша: компьютер проверяет, знает ли он уже IP-адрес этого сайта.
. DNS-запрос: если адрес не найден, отправляется запрос к DNS-серверу, чтобы узнать IP по имени.
. Установление соединения (TCP): создаётся надёжное соединение между браузером и сервером.
. Шифрование (TLS): начинается защищённый обмен (если HTTPS), устанавливается TLS-сессия.
. Отправка HTTP-запроса: браузер говорит: "Дай мне страницу!".
. Получение HTTP-ответа: сервер возвращает HTML-документ.
. Загрузка ресурсов: браузер загружает картинки, CSS, JS и т.д.
. Отображение: пользователь видит страницу.


[cols="1,4,2", options="header,breakable"]
|===
^| Этап ^| Что происходит ^| Протоколы

| 1
| Ввод адреса в браузере
| (ещё нет сетевого запроса)

| 2
| DNS-запрос и ответ
| DNS, UDP

| 3
| Установка TCP-соединения
| TCP

| 4
| Установка TLS
| TLS

| 5
| Отправка HTTP-запроса
| HTTPS (HTTP поверх TLS)

| 6
| Получение HTML
| HTTPS

| 7
| Загрузка изображений и скриптов
| HTTPS

| 8
| Отображение в браузере
| (локальная работа)
|===

== Заключение

Интернет — это система, в которой сотни устройств взаимодействуют благодаря протоколам. Понимание уровней OSI и базовых протоколов помогает разобраться в том, как работает сеть и где могут быть проблемы.

Учебник можно расширять и использовать как основу для изучения сетевых технологий, DevOps, тестирования или информационной безопасности.